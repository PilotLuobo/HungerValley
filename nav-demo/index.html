<!DOCTYPE html>
<html lang="zh-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>nav-demo</title>
    <link rel="stylesheet" href="./style.css" class="rel">
</head>

<body>
<header></header>
<main>
    <div class="wrapper" id="mainXXXXX"></div>
</main>
<footer></footer>
<script>
    keys = {
        0: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
        1: ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
        2: ['z', 'x', 'c', 'v', 'b', 'n', 'm'],
        length: 3
    }
    hash = {
        'q': 'qq.com',
        'w': 'weibo.com',
        'e': 'ele.me',
        'r': 'renren.com',
        't': 'tianyan.com',
        'y': 'youtube.com',
        'u': 'uc.com',
        'i': 'icloud.com',
        'o': 'opera.com',
        'p': undefined,
        'a': 'acfun.tv',
        's': 'sohu.com',
        'd': 'dangdang.com',
        'f': undefined,
        'g': undefined,
        'h': undefined,
        'j': undefined,
        'k': undefined,
        'l': undefined,
        'z': undefined,
        'x': undefined,
        'c': undefined,
        'v': undefined,
        'b': undefined,
        'n': undefined,
        'm': 'microsoft.com'
    }

    //取出 LocalStorage 中的 xyz 对应的 hash
    hashInLocalStorage = JSON.parse(localStorage.getItem('xyz') || null)
    if (hashInLocalStorage) {
        hash = hashInLocalStorage
    }

    //遍历 keys ，生成 kbd 标签
    index = 0
    while (index < keys['length']) {    //0 1 2
        row = keys[index]   //第一个数组 第二个数组 第三个数组
        divXXXXX = document.createElement('div')
        mainXXXXX.appendChild(divXXXXX)
        index2 = 0
        while (index2 < row['length']) {
            kbdXXXXX = document.createElement('kbd')
            kbdXXXXX.textContent = row[index2]
            buttonXXXXX = document.createElement('button')
            buttonXXXXX.textContent = 'E'  //包含文本「E」
            buttonXXXXX.id = row[index2]  //让生成的 button 标签自带一个id，对应它的键
            buttonXXXXX.onclick = function (xzkjcnxlkcjlk) {
                key = xzkjcnxlkcjlk['target']['id']  //拿到用户按「E」的对应的键的id.「 key = xzkjcnxlkcjlk['target'] 」表示用户点击的元素
                x = prompt('give me a website!')  //弹出对话框，给我一个网站！！
                hash[key] = x  //hash 变更
                localStorage.setItem('xyz', json.stringify(hash)) //把hash以字符串的形式存到xyz里
            }
            divXXXXX.appendChild(kbdXXXXX)
            kbdXXXXX.appendChild(buttonXXXXX)
            index2++
        }
        index++
    }
    document.onkeypress = function (xzkjcnxlkcjlk) {
        // console.log('检测到输入了一个键')
        key = xzkjcnxlkcjlk['key']  //拿到用户按的键 q w e r...
        website = hash[key]  //拿到键对应的网站
        // location.href = 'http://' + website  //跳转网页,在当前页面
        window.open('http://' + website, '_blank')  //在新窗口打开页面
    }
</script>
</body>

</html>